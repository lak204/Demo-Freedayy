<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hồ sơ - Freeday</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="logo">
                    <a href="index.html">Freeday</a>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li><a href="index.html">Trang chủ</a></li>
                        <li><a href="explore.html">Khám phá</a></li>
                        <li><a href="bookings.html">Đặt chỗ</a></li>
                        <li><a href="#" id="userMenuBtn">
                            <i class="fas fa-user-circle"></i>
                            <span class="user-name">Tài khoản</span>
                        </a></li>
                    </ul>
                </nav>
                <div class="user-menu" id="userMenu">
                    <div class="user-menu-header">
                        <div class="user-avatar">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <div id="userInfo">
                            <p class="user-name">Đăng nhập</p>
                            <p class="user-email"></p>
                        </div>
                    </div>
                    <ul class="user-menu-list">
                        <li id="loginMenuItem"><a href="login.html">Đăng nhập</a></li>
                        <li id="registerMenuItem"><a href="register.html">Đăng ký</a></li>
                        <li id="profileMenuItem" class="hidden"><a href="profile.html">Hồ sơ</a></li>
                        <li id="bookingsMenuItem" class="hidden"><a href="bookings.html">Đặt chỗ của tôi</a></li>
                        <li id="hostDashboardMenuItem" class="hidden"><a href="host-dashboard.html">Quản lý sự kiện</a></li>
                        <li id="logoutMenuItem" class="hidden"><a href="#" id="logoutBtn">Đăng xuất</a></li>
                    </ul>
                </div>
            </div>
        </header>

        <!-- Profile Section -->
        <section class="profile-section">
            <div class="container">
                <h1 class="section-title">Hồ sơ của tôi</h1>
                
                <div class="profile-container">
                    <!-- Profile Sidebar -->
                    <div class="profile-sidebar">
                        <div class="profile-avatar-container">
                            <div class="profile-avatar" id="profileAvatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <button class="btn btn-sm btn-outline" id="changeAvatarBtn">Đổi ảnh</button>
                        </div>
                        
                        <div class="profile-menu">
                            <button class="profile-menu-item active" data-tab="info">
                                <i class="fas fa-user"></i> Thông tin cá nhân
                            </button>
                            <button class="profile-menu-item" data-tab="password">
                                <i class="fas fa-lock"></i> Đổi mật khẩu
                            </button>
                            <button class="profile-menu-item" data-tab="preferences">
                                <i class="fas fa-heart"></i> Sở thích
                            </button>
                            <button class="profile-menu-item" data-tab="saved">
                                <i class="fas fa-bookmark"></i> Sự kiện đã lưu
                            </button>
                            <button class="profile-menu-item" data-tab="host">
                                <i class="fas fa-calendar-alt"></i> Trở thành Host
                            </button>
                        </div>
                    </div>
                    
                    <!-- Profile Content -->
                    <div class="profile-content">
                        <!-- Personal Information Tab -->
                        <div class="profile-tab active" id="infoTab">
                            <h2>Thông tin cá nhân</h2>
                            <form id="profileForm" class="profile-form">
                                <div class="form-group">
                                    <label for="fullName">Họ và tên</label>
                                    <input type="text" id="fullName" name="name" placeholder="Nhập họ tên của bạn">
                                </div>
                                <div class="form-group">
                                    <label for="emailAddress">Email</label>
                                    <input type="email" id="emailAddress" name="email" placeholder="Nhập email của bạn" readonly>
                                    <p class="field-note">Email không thể thay đổi</p>
                                </div>
                                <div class="form-group">
                                    <label for="phoneNumber">Số điện thoại</label>
                                    <input type="tel" id="phoneNumber" name="phone" placeholder="Nhập số điện thoại">
                                </div>
                                <div class="form-actions">
                                    <button type="submit" class="btn btn-primary">Lưu thay đổi</button>
                                </div>
                            </form>
                        </div>
                        
                        <!-- Change Password Tab -->
                        <div class="profile-tab" id="passwordTab">
                            <h2>Đổi mật khẩu</h2>
                            <form id="passwordForm" class="profile-form">
                                <div class="form-group">
                                    <label for="currentPassword">Mật khẩu hiện tại</label>
                                    <input type="password" id="currentPassword" name="currentPassword" placeholder="Nhập mật khẩu hiện tại">
                                </div>
                                <div class="form-group">
                                    <label for="newPassword">Mật khẩu mới</label>
                                    <input type="password" id="newPassword" name="newPassword" placeholder="Nhập mật khẩu mới">
                                    <p class="field-note">Mật khẩu phải có ít nhất 8 ký tự</p>
                                </div>
                                <div class="form-group">
                                    <label for="confirmPassword">Xác nhận mật khẩu</label>
                                    <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Nhập lại mật khẩu mới">
                                </div>
                                <div class="form-actions">
                                    <button type="submit" class="btn btn-primary">Đổi mật khẩu</button>
                                </div>
                            </form>
                        </div>
                        
                        <!-- Preferences Tab -->
                        <div class="profile-tab" id="preferencesTab">
                            <h2>Sở thích</h2>
                            <p class="tab-description">Tùy chỉnh sở thích để nhận gợi ý sự kiện phù hợp hơn</p>
                            
                            <form id="preferencesForm" class="profile-form">
                                <div class="form-group">
                                    <label>Thể loại yêu thích</label>
                                    <div class="tags-container" id="favoriteTagsContainer">
                                        <!-- Tags will be loaded dynamically -->
                                        <div class="tag-loading">Đang tải...</div>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="maxBudget">Ngân sách tối đa</label>
                                    <input type="number" id="maxBudget" name="maxBudget" placeholder="Nhập ngân sách tối đa (VND)">
                                </div>
                                
                                <div class="form-group">
                                    <label for="radiusKm">Khoảng cách tìm kiếm (km)</label>
                                    <input type="number" id="radiusKm" name="radiusKm" placeholder="Nhập khoảng cách tối đa">
                                </div>
                                
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="weekendOnly" name="weekendOnly">
                                        <span>Chỉ hiển thị sự kiện cuối tuần</span>
                                    </label>
                                </div>
                                
                                <div class="form-actions">
                                    <button type="submit" class="btn btn-primary">Lưu sở thích</button>
                                </div>
                            </form>
                        </div>
                        
                        <!-- Saved Events Tab -->
                        <div class="profile-tab" id="savedTab">
                            <h2>Sự kiện đã lưu</h2>
                            
                            <div class="saved-events-container" id="savedEventsContainer">
                                <!-- Saved events will be loaded here -->
                                <div class="loading-indicator">
                                    <div class="spinner"></div>
                                </div>
                            </div>
                            
                            <div class="empty-state hidden" id="noSavedEventsMessage">
                                <div class="empty-icon">
                                    <i class="fas fa-bookmark"></i>
                                </div>
                                <h3>Chưa có sự kiện nào được lưu</h3>
                                <p>Hãy khám phá và lưu lại những sự kiện bạn quan tâm!</p>
                                <a href="explore.html" class="btn btn-primary">Khám phá ngay</a>
                            </div>
                        </div>
                        
                        <!-- Host Registration Tab -->
                        <div class="profile-tab" id="hostTab">
                            <h2>Trở thành Host</h2>
                            <p class="tab-description">Đăng ký làm host để tạo và quản lý sự kiện của riêng bạn</p>
                            
                            <div id="hostRegistrationContainer">
                                <div id="notHostYet">
                                    <p>Bằng cách đăng ký làm host, bạn có thể:</p>
                                    <ul class="host-benefits">
                                        <li><i class="fas fa-check"></i> Tạo và quản lý sự kiện</li>
                                        <li><i class="fas fa-check"></i> Quản lý đặt chỗ và thanh toán</li>
                                        <li><i class="fas fa-check"></i> Xây dựng cộng đồng của riêng bạn</li>
                                        <li><i class="fas fa-check"></i> Kiếm thu nhập từ việc tổ chức sự kiện</li>
                                    </ul>
                                    
                                    <button class="btn btn-primary" id="becomeHostBtn">Đăng ký làm Host</button>
                                </div>
                                
                                <div id="alreadyHostContainer" class="hidden">
                                    <div class="host-status-banner">
                                        <div class="host-status-icon">
                                            <i class="fas fa-check-circle"></i>
                                        </div>
                                        <div class="host-status-content">
                                            <h3>Bạn đã là Host!</h3>
                                            <p>Bạn có thể tạo và quản lý sự kiện của mình</p>
                                        </div>
                                        <a href="host-dashboard.html" class="btn btn-primary">Quản lý sự kiện</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Change Avatar Modal -->
        <div class="modal" id="avatarModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Thay đổi ảnh đại diện</h2>
                    <button class="close-btn" id="closeAvatarModal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="avatar-upload-container">
                        <div class="avatar-preview" id="avatarPreview">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        
                        <div class="file-upload">
                            <input type="file" id="avatarFile" accept="image/*">
                            <button type="button" class="btn btn-outline btn-upload">
                                <i class="fas fa-upload"></i> Chọn ảnh
                            </button>
                            <p class="file-name" id="avatarFileName">Chưa có file nào được chọn</p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline" id="cancelAvatarBtn">Hủy</button>
                    <button class="btn btn-primary" id="saveAvatarBtn">Lưu ảnh</button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-logo">
                        <a href="index.html">Freeday</a>
                        <p>Khám phá sự kiện cuối tuần của bạn</p>
                    </div>
                    <div class="footer-links">
                        <div class="footer-links-column">
                            <h3>Khám phá</h3>
                            <ul>
                                <li><a href="explore.html">Sự kiện</a></li>
                                <li><a href="explore.html?filter=featured">Nổi bật</a></li>
                                <li><a href="explore.html?filter=trending">Xu hướng</a></li>
                                <li><a href="explore.html?filter=upcoming">Sắp diễn ra</a></li>
                            </ul>
                        </div>
                        <div class="footer-links-column">
                            <h3>Tài khoản</h3>
                            <ul>
                                <li><a href="profile.html">Hồ sơ</a></li>
                                <li><a href="bookings.html">Đặt chỗ</a></li>
                                <li><a href="host-dashboard.html">Quản lý sự kiện</a></li>
                            </ul>
                        </div>
                        <div class="footer-links-column">
                            <h3>Về Freeday</h3>
                            <ul>
                                <li><a href="#">Giới thiệu</a></li>
                                <li><a href="#">Liên hệ</a></li>
                                <li><a href="#">Điều khoản</a></li>
                                <li><a href="#">Chính sách</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>&copy; 2023 Freeday. All rights reserved.</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer"></div>

    <!-- Scripts -->
    <script src="js/app.js"></script>
    <script src="js/ui-utils.js"></script>
    <script src="js/profile.js"></script>
</body>
</html>
